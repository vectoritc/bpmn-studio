<template>
  <require from="./bpmn-diff-view.css"></require>
  <div class="diff-view">
    <div class="left-diff-view">
      <div ref="leftCanvasModel" class="left-diff-view__canvasModel"></div>
      <span class="diff-canvas-title">Vorher</span>
    </div>
    <div class="right-diff-view">
      <div ref="rightCanvasModel" class="right-diff-view__canvasModel"></div>
      <span class="diff-canvas-title">Nachher</span>
    </div>
    <div class="lower-diff-view">
      <div ref="lowerCanvasModel" class="lower-diff-view__canvasModel"></div>
      <div class="diff-legend">
        <span class="diff-legend-entry diff-legend-entry-first">Legende:</span>
        <span class="diff-legend-entry"><i class="fas fa-stop green"></i> Hinzugefügt</span>
        <span class="diff-legend-entry"><i class="fas fa-stop red"></i>  Entfernt</span>
        <span class="diff-legend-entry"><i class="fas fa-stop orange"></i> Geändert</span>
        <span class="diff-legend-entry diff-legend-entry-last"><i class="fas fa-stop purple"></i> Layout geändert</span>
      </div>
      <span class="diff-canvas-title">${diffModeTitle}</span>
      <span class="diff-button-hint" if.bind="currentDiffMode === undefined">
        <i class="fas fa-arrow-down fa-3x"></i>
        <span class="diff-button-hint__text">Diff Modus auswählen</span>
        <i class="fas fa-arrow-down fa-3x"></i>
      </span>
      <div class="diff-change-list" if.bind="showChangeList">
        <span class="no-change-message" if.bind="noChangesExisting">${noChangesReason}</span>
        <table class="change-list-table">
          <tr repeat.for="removedElement of changeListData.removed">
            <td class="change-list-table__entry">
              <span class="label label-red">Removed</span> - ${removedElement.type}
              <span if.bind="removedElement.name !== ''">mit dem Namen ${removedElement.name}
            </td>
          </tr>
          <tr repeat.for="changedElement of changeListData.changed">
            <td class="change-list-table__entry">
              <span class="label label-orange">Change</span> - ${changedElement.type}
              <span if.bind="changedElement.name !== ''">mit dem Namen ${changedElement.name}
            </td>
          </tr>
          <tr repeat.for="addedElement of changeListData.added">
            <td class="change-list-table__entry">
              <span class="label label-green">Added</span> - ${addedElement.type}
              <span if.bind="addedElement.name !== ''">mit dem Namen ${addedElement.name}
            </td>
          </tr>
          <tr repeat.for="layoutChangedElement of changeListData.layoutChanged">
            <td class="change-list-table__entry">
              <span class="label label-purple">Layout Changed</span> - ${layoutChangedElement.type}
              <span if.bind="layoutChangedElement.name !== ''">mit dem Namen ${layoutChangedElement.name}
            </td>
          </tr>
       </table>
       <span class="diff-summary">${totalChangeAmount} Änderungen insgesammt: ${changeListData.removed.length} Entfernt; ${changeListData.changed.length} Geändert; ${changeListData.added.length} Hinzugefügt; ${changeListData.layoutChanged.length} Layouts verändert;</span>
      </div>
    </div>
  </div>
</template>
