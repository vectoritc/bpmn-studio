<template>
  <require from="./inspect-correlation.css"></require>
  <require from="./components/inspect-panel/inspect-panel"></require>
  <require from="./components/diagram-viewer/diagram-viewer"></require>
  <require from="../token-viewer/token-viewer"></require>
  <div class="inspect-correlation">
    <div class="inspect-correlation__left-toolbar"></div>
    <div class="inspect-correlation__panels">
      <div class="inspect-correlation__upper-panel" show.bind="!inspectPanelFullscreen" >
        <diagram-viewer class="inspect-correlation__diagram-viewer" selected-flow-node.two-way="selectedFlowNode" active-diagram.bind="activeDiagram" correlation.bind="selectedCorrelation"></diagram-viewer>
        <div class="inspect-correlation__right-resize-div" ref="rightPanelResizeDiv" show.bind="showTokenViewer"></div>
        <token-viewer class="inspect-correlation__token-viewer" css="width: ${tokenViewerWidth}px;" active-solution-entry.bind="activeSolutionEntry" correlation.bind="selectedCorrelation" active-diagram.bind="activeDiagram" flow-node.bind="selectedFlowNode" show.bind="showTokenViewer"></token-viewer>
      </div>
      <div class="inspect-correlation__bottom-resize-div" ref="bottomPanelResizeDiv" if.bind="!inspectPanelFullscreen"></div>
      <div class="inspect-correlation__bottom-panel" css="height: ${bottomPanelHeight}px;"
            class.bind="inspectPanelFullscreen ? 'inspect-correlation__bottom-panel--fullscreen' : ''"
            show.bind="showInspectPanel">
        <inspect-panel active-solution-entry.bind="activeSolutionEntry" active-diagram.bind="activeDiagram" correlations.bind="correlations" selected-correlation.two-way="selectedCorrelation" fullscreen.two-way="inspectPanelFullscreen" log.bind="log"></inspect-panel>
      </div>
    </div>
</template>
